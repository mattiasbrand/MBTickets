@model Web.Models.TicketsModel
@{
    ViewBag.Title = "Tickets";
}
<h2>Tickets</h2>

<div id="listView"></div>
<script id="listTemplate" type="text/template">
    <a href="#create" id="createTicketLink">Create new</a>
    <table id="ticketList">
        <tr>
            <th>Creator </th>
            <th>Title </th>
            <th>Description </th>
        </tr>        
    <% _.each(items, function(item) { %>
        <tr>
            <td><%= item.Creator %></td>
            <td><%= item.Title %></td>
            <td><%= item.Description %></td>
        </tr>
    <% }); %>
    </table>
</script>
<div id="createView">
    <a href="#" id="listTicketsLink">Back to list</a>
    <div>
        <label for="newTitle">Title</label>
        <input id="newTitle" type="text" />
    </div>
    <div>
        <label for="newDescription">Description</label>
        <textarea id="newDescription" rows="10" cols="60"></textarea>
    </div>
    <div>
        <button id="saveNew">Save</button>
    </div>
</div>
<script type="text/javascript">
    window.urls = window.urls || {};
    window.urls.ticketApiUrl = '@Url.RouteUrl("DefaultApi", new { httproute = "", controller = "Tickets" })';
</script>
<script src="/Scripts/ManageTicket/CreateTicketView.js" type="text/javascript"></script>
<script src="/Scripts/ManageTicket/TicketListView.js" type="text/javascript"></script>
<script src="/Scripts/ManageTicket/TicketRouter.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var router = new window.TicketRouter();
        router.navigate("", true);
        Backbone.history.start();
    });
</script>